"""Base Pydantic schemas for request/response models."""

from datetime import datetime
from typing import Generic, TypeVar

from pydantic import BaseModel, Field

T = TypeVar("T")


class BaseResponse(BaseModel):
    """Base response schema with common fields."""

    id: str = Field(..., description="Unique identifier")
    created_at: datetime = Field(..., description="Creation timestamp")
    updated_at: datetime = Field(..., description="Last update timestamp")

    model_config = {"from_attributes": True}


class PaginatedResponse(BaseModel, Generic[T]):
    """Paginated response wrapper."""

    items: list[T] = Field(default_factory=list)
    total: int = Field(default=0, ge=0)
    page: int = Field(default=1, ge=1)
    page_size: int = Field(default=100, ge=1, le=1000)
    total_pages: int = Field(default=0, ge=0)


class ErrorResponse(BaseModel):
    """Error response schema."""

    detail: str = Field(..., description="Error message")


class MessageResponse(BaseModel):
    """Simple message response."""

    message: str
    status: str = "ok"
